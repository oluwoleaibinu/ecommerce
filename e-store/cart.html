<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>tembow e-store</title>
    <meta name="robots" content="noindex, follow" />
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="background/companylogo.png">

    <!-- CSS
	=======================================-->

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <!-- Icon Font CSS -->
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">

    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/css/plugins.css">

    <!-- Helper CSS -->
    <link rel="stylesheet" href="assets/css/helper.css">

    <!-- Main Style CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/font-awesome.css">
</head>

<body>

    <div class="main-wrapper">

        <!-- Header Section Start -->
        <div class="header-section section bg-white">
            <div class="container">
                <div class="row">

                    <!-- Header Logo -->
                    <div class="col">
                        <div class="header-logo">
                            <a href="index.html">
                                <img src="background/companylogo.png" alt=""> <!-- head Logo -->
                            </a>
                        </div>
                    </div>

                    <!-- Main Menu -->
                    <div class="col d-none d-lg-block">
                        <nav class="main-menu">
                            <ul>
                                <li><a href="index.html">HOME</a></li>

                                <li><a href="about.html">ABOUT </a></li>
                                <li><a href="Shop.html">SHOP</a>
                                </li>
                                <!-- <li><a href="#">PAGES</a>
                                    <ul class="sub-menu">
                                        <li><a href="cart.html">Cart</a></li>
                                        <li><a href="checkout.html">Checkout</a></li>
                                    </ul>
                                </li> -->
                                <li><a href="cart.html">CART</a>
                                </li>
                                <li><a href="contact.html">CONTACT</a></li>
                            </ul>
                        </nav>
                    </div>

                    <!-- Header Action -->
                    <div class="col">
                        <div class="header-action">


                            <!-- Cart Wrap Start-->
                            <div class="header-cart-wrap">
                                <!-- Cart Toggle -->
                                <button class="header-cart-toggle">
                                    <a href="cart.html" class="cart-item-count" data-cesta-feira-items-count></a>
                                    <span class="icon">cart</span></button>
                            </div>

                            <div class="col-12 d-block d-lg-none">
                                <div class="mobile-menu"></div>
                            </div>

                        </div>
                    </div>
                </div><!-- Header Section End -->
            </div>
        </div>

        <!-- Page Banner Section Start -->
        <div class="page-banner-section section">
            <div class="container">
                <div class="row">
                    <div class="col">

                        <div class="page-banner text-center">
                            <h1>Cart</h1>
                            <ul class="page-breadcrumb">
                                <li><a href="index.html">Home</a></li>
                                <li>Cart</li>
                            </ul>
                        </div>

                    </div>
                </div>
            </div>
        </div><!-- Page Banner Section End -->

        <!-- Cart Section Start -->
        <div class="cart-section section position-relative pt-90 pb-60 pt-lg-80 pb-lg-50 pt-md-70 pb-md-40 pt-sm-60 pb-sm-30 pt-xs-50 pb-xs-20 fix">

            <div class="container">
                <div class="row">
                    <div class="col-12">

                        <form action="#">
                            <!-- Cart Table -->
                            <div class="cart-table table-responsive mb-30">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th class="pro-title">Product</th>
                                            <th class="pro-price">Quantity</th>
                                            <th class="pro-quantity">Price</th>
                                            <th class="pro-quantity">Total</th>
                                            <th class="pro-subtotal">Comment</th>
                                            <th class="pro-remove">Remove</th>
                                        </tr>
                                    </thead>
                                    <tbody id="cart-items">
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <td><a href="javascript:;" class="btn btn-danger"
                                                    data-cesta-feira-clear-basket>Clear Cart</a></td>
                                            <td>  </td>
                                            <td>Total</td>
                                            <td class="text-right" id="total-value"><strong>$0</strong></td>
                                            <td>  </td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>

                        </form>

                        <div class="row">

                            <div class="col-lg-6 col-12 mb-5">
                                <!-- Calculate Shipping -->
                                <div class="calculate-shipping">
                                    <h4>Calculate Shipping</h4>
                                    <form action="#" class="form">
                                        <div class="row">
                                            <div class="col-md-6 col-12 mb-25">
                                                <select class="nice-select" id="country" required>
                                                    <option class="country" selected disabled> Select Country </option>
                                                    <option value="Australia" class="country"> Australia </option>
                                                    <option value="Nigeria" class="country">Nigeria</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6 col-12 mb-25">
                                                <input type="text" placeholder="State" required>
                                            </div>
                                            <div class="col-md-6 col-12 mb-25">
                                                <input type="text" placeholder="Postcode" required>
                                            </div>
                                            <!-- <div class="col-md-6 col-12 mb-25">
                                                <input type="submit" value="Estimate" class="estimate">
                                            </div> -->
                                        </div>
                                    </form>
                                </div>
                            </div>

                            <!-- Cart Summary -->
                            <div class="col-lg-6 col-12 mb-30 d-flex">
                                <div class="cart-summary">
                                    <div class="cart-summary-wrap">
                                        <h4>Cart Summary</h4>
                                        <p>Sub Total <span id="sub-total"></span></p>
                                        <p>Shipping Cost <span id="shipping_cost"></span></p>
                                        <h2>Grand Total <span id="grand-total"></span></h2>
                                    </div>
                                    <div class="cart-summary-button">
                                        <button class="checkout-btn" onclick="navigateCheckout();">Checkout</button>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>

        </div><!-- Cart Section End -->
        <!-- Service Section Start -->
        <div class="service-section section pl-30 pr-30 pl-lg-30 pr-lg-30 pl-md-30 pr-md-30">
            <div class="service-container">
                <div class="row ml-0 mr-0">

                    <div class="service col-xl-6 col-md-6 col-12">
                        <div class="icon"></div>
                        <div class="content">
                            <h3>Premium Delivery</h3>
                            <p>We guarantee a fast and secure delivery</p>
                        </div>
                    </div>

                    <div class="service col-xl-6 col-md-6 col-12">
                        <div class="icon"></div>
                        <div class="content">
                            <h3>Quality Products</h3>
                            <p>We ensure the product quality that is our main goal</p>
                        </div>
                    </div>

                </div>
            </div>
        </div><!-- Service Section End -->

        <!-- Footer Top Section Start -->
        <div class="footer-top-section section bg-dark">
            <div class="container">
                <div class="footer-widget-wrap row">

                    <div class="col mb-20">
                        <div class="footer-widget">
                            <img src="#" alt="">
                            <p>We consider each customer as a family member who deserves nothing but the best service</p>
                            <p>Melbourne, Australia</p>
                            <p><a href="#">+61 4 8115 3571</a> </p>
                            <p><a href="#">aibinuwole@yahoo.com</a> <br> <a href="#">www.tembowglobal.com</a></p>
                        </div>
                    </div>

                    <div class="col mb-20">
                        <div class="footer-widget">
                            <h3 class="title">Quick Link</h3>
                            <ul>
                                <li><a href="about.html">About us</a></li>
                                <li><a href="product-details.html">Shop</a></li>
                                <li><a href="contact.html">Contact</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- Footer Top Section End -->

        <!-- Footer Bottom Section Start -->
        <div class="footer-bottom-section section">
            <div class="container">
                <div class="row align-items-center">

                    <div class="copyright col-lg-6 col-12">
                        <p>Copyright &copy; 2019 Tembow Global Services, All Rights Reserved</p>
                    </div>
                </div>
            </div>
        </div><!-- Footer Bottom Section End -->

    </div>

    <!-- JS
============================================ -->
    <script src="assets/js/vendor/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="assets/js/jStorage.min.js"></script>
    <script type="text/javascript" src="assets/js/cesta-feira.js"></script>

    <script type="application/javascript">

        function initListaOrcamento() {
            var products = $.CestaFeira({
                debug: true
            }).getItems(),
                totalValueTemp = 0,
                $cartItems = $('#cart-items');

            if (!products) {
                console.log("No items in cart!");
                return;
            }

            function updateTotalValue() {

                var totalValue = 0;

                $.each($('[data-item-total-value]'), function (index, item) {
                    totalValue += $(item).data('item-total-value');
                });

                $('#total-value').html("$" + parseFloat(totalValue).toFixed(2));
                $("#sub-total").html("$" + parseFloat(totalValue).toFixed(2));
            }

            function mountLayout(index, data) {
                var totalValueTemp = parseFloat(data.unity_price) * parseInt(data.quantity);

                var $layout = "<tr id='product-" + index + "'><td class='col-sm-8 col-md-6'><div class='media'>" + 
                    "<h5 class='mt-0'>" + data.product_name + "</h5>" +
                    "</div></td><td class='col-sm-1 col-md-1' style='text-align: center'>" + data.quantity +
                    "<td class='col-sm-1 col-md-1 text-center'><strong>$" + data.unity_price + "</strong></td>" +
                    "<td class='col-sm-1 col-md-1 text-center' data-item-total-value='" + totalValueTemp + "'><strong>$" + parseFloat(totalValueTemp).toFixed(2) + "</strong></td>" +
                    "<td class='col-sm-1 col-md-1' style='text-align: center'>"+ data.observations +"</td><td class='col-sm-1 col-md-1'>" +
                    "<a href='javascript:;' class='btn btn-danger fa fa-trash' data-cesta-feira-delete-item='" + index + "'><span class='sr-only'>Remove</span></a>" +
                    "</td></tr>";


                $cartItems.append($layout);
            }


            $.each(products, function (index, value) {
                mountLayout(index, value);
            });

            updateTotalValue();

            $(document).on('click', 'a[data-cesta-feira-delete-item]', function (e) {
                e.preventDefault();

                var productId = $(this).data('cesta-feira-delete-item');

                if ($(document).on('cesta-feira-item-deleted')) {
                    $('#product-' + productId).fadeOut(500, function () {
                        $(this).remove();
                        updateTotalValue();
                    });
                }
            });

            $(document).on('cesta-feira-clear-basket', function (e) {
                $('#cart-items tr').each(function (index, value) {
                    $(value).fadeOut(500, function () {
                        $(this).remove();
                        updateTotalValue();
                    });
                });
            });

        }

        $(document).ready(function () {

            initListaOrcamento();

        });
    </script>

    <script type="application/javascript">
        function navigateCheckout(){
            //  window.location.href = "file:///D:/desktop/html/ecommerce/e-store/checkout.html";
            window.location.href = "http://tembowglobal.com/checkout.html";
        }
    </script>

    <script type="application/javascript">
        $(document).ready(function () {
            $("#country").change(function () {
                
                var country = $("#country").val();
                
                if (country === "Australia") {

                    var sub_total = $("#sub-total").text();
                    var shippingCost = "$300";

                    var shipping_cost = $("#shipping_cost").html(shippingCost);

                    var rem_sub = sub_total.substring(1);
                    var rem_shipping = shipping_cost[0].innerHTML.substring(1);

                    var calculate = parseFloat(rem_sub) + parseFloat(rem_shipping);

                    $("#grand-total").html("$" + calculate.toFixed(2));
                    
                    var grndT = $("#grand-total").text();
                    var subT = "$" + rem_sub;
                    var shippingCst = "$" + rem_shipping;

                    localStorage.setItem("grandTotal", grndT);
                    localStorage.setItem("subTotal", subT);
                    localStorage.setItem("shippingCost", shippingCst);

                } else if (country === "Nigeria") {
                    // console.log(country);-

                    var sub_tot = $("#sub-total").text();
                    var shippingCostNig = "$500";

                    var shipping_cst = $("#shipping_cost").html(shippingCostNig);

                    var rem_subtotal = sub_tot.substring(1);
                    var rem_shippingcost = shipping_cst[0].innerHTML.substring(1);

                    // console.log(rem_subtotal);

                    var calculate = parseFloat(rem_subtotal) + parseFloat(rem_shippingcost);
                    $("#grand-total").html("$" + calculate.toFixed(2));
                    
                    var grnd = $("#grand-total").text();
                    var subTtl = "$" + rem_subtotal;
                    var shippingCs = "$" + rem_shippingcost;

                    console.log(subTtl);

                    localStorage.setItem("grandTotal", grnd);
                    localStorage.setItem("subTotal", subTtl);
                    localStorage.setItem("shippingCost", shippingCs);
                }
            })
        });
    </script>

    <!-- Modernizer JS -->
    <script src="assets/js/vendor/modernizr-2.8.3.min.js"></script>

    <!-- Popper JS -->
    <script src="assets/js/popper.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- Plugins JS -->
    <script src="assets/js/plugins.js"></script>
    <!-- Main JS -->
    <script src="assets/js/main.js"></script>

</body>

</html>